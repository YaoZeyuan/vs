webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),r=n("u2KI"),o=n.n(r),s=n("Xxa5"),a=n.n(s),u=n("exGp"),h=n.n(u),c=n("//Fk"),d=n.n(c),f=0,l=function(){var t=h()(a.a.mark(function t(e){var n,i,r,o,s,u,h,c,l;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(){r&&(document.head.removeChild(r),r=null),delete window[o]},c=function(t){n?l():(i(t),l())},h=function(){n=!0},u=function(t,n){i=t,(r=document.createElement("script")).src=e+"&cb="+o,r.onerror=n,document.head.appendChild(r)},n=void 0,i=void 0,r=null,o="callback"+f++,window[o]=c,(s=new d.a(u)).cancel=h,t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),p=n("puH/")({}),v=n("+4Zy");function g(t,e,i,r){var o,s,u=(o=h()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(_(e)).then(function(t){return b(t,e)}).catch(function(t){var n="Failed to download "+e+"; Message: "+t;console.error(n),r.downloadError(n),k()});case 2:y=t.sent;case 3:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)}),c=(s=h()(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l("//suggestion.baidu.com/su?wd="+encodeURIComponent(e));case 2:return n=t.sent,console.log({query:e,response:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)});if(t=(t=""+t).trim()){t=t.toLocaleLowerCase();var d=e.indexOf("...");if(d<0)throw new Error('Query pattern is missing "..."');var f=e.indexOf("[query]");if(f<0)throw new Error('Query pattern is missing "[query]" keyword');if(d<f)throw new Error("[query] should come before ...");var g=!1,y=void 0,m=n("T/ob")();m.maxDepth=i;var w=[],x=300+100*Math.random();return r.startDownload(),m.addNode(t,{depth:0}),u(t),{dispose:function(){g=!0,y&&(y.cancel(),y=null)},graph:m}}function k(){if(!g)if(0!==w.length){var t=w.shift();u(t),r.updateLayout(w.length,t)}else p.fire("graph-ready",m)}function b(t,e){console.log({res:t,query:e});var n=v.a.get(t,["s"],[]);if(!(n.length>=0))throw console.error(t),new Error("Unexpected response");!function(t,e){var n=_(t).toLocaleLowerCase(),r=m.getNode(t);if(!r)throw new Error("Parent is missing for "+t);console.log("results =>",e),e.filter(function(t){return 0===t.toLocaleLowerCase().indexOf(n)}).map(function(t){return t.substring(n.length)}).map(function(t){var e=new RegExp(["的","有","什么","怎","哪","是"," ","合并","比","为","同时","建议","区别"].join("|"));return t.split(e)[0]}).filter(function(t){return t.length>0}).forEach(function(e){var n=m.hasNode(e),o=m.getLink(e,t)||m.getLink(t,e);if(n)o||m.addLink(t,e);else{var s=r.data.depth+1;m.addNode(e,{depth:s}),m.addLink(t,e),s<i&&w.push(e)}}),setTimeout(k,x)}(e,n)}function _(t){return e.replace("[query]",t).replace("...","")}}var y=n("Zrlr"),m=n.n(y),w=n("wxAW"),x=n.n(w),k=function(){function t(){m()(this,t),this.message="",this.phase="none",this.download={errors:[],remaining:0,currentWord:""},this.layout={iteration:0},this.working=!0}return x()(t,[{key:"startDownload",value:function(){this.phase="检索中"}},{key:"startLayout",value:function(){this.message="检索完成, 开始生成关系图...",this.phase="layout"}},{key:"setLayoutCompletion",value:function(t){"layout"===this.phase&&(this.message="检索完成. 生成关系图 "+t+"%...")}},{key:"updateLayout",value:function(t,e){this.download.currentWord=e,this.download.remaining=t,this.message="剩余: "+t+".搜索 "+e}},{key:"done",value:function(){this.working=!1}},{key:"downloadError",value:function(t){this.download.errors.push(t)}},{key:"reset",value:function(){this.phase="none",this.download.errors=[],this.download.remaining=0,this.download.currentWord="",this.layout.iteration=0,this.message="",this.working=!0}}]),t}(),b=n("3zJd")({query:""},{useSearch:!0}),_=void 0,q=b.get(),E={hasGraph:!1,maxDepth:q.maxDepth||2,progress:new k,graph:null,query:q.query,pattern:q.pattern||"[query]和..."};E.query&&L(E.query);var C=E;function L(t){return E.hasGraph=!0,E.progress.reset(),b.set("query",t),_&&_.dispose(),_=g(t,E.pattern,E.maxDepth,E.progress),E.graph=o()(_.graph),_.graph}function N(t,e){return E.pattern.replace("[query]",t).replace("...",e)}b.onChange(function(t){E.query=t.query});var D=n("ifoU"),P=n.n(D),M=n("yBIK"),S=n.n(M),I=n("OvRC"),R=n.n(I),T="http://www.w3.org/2000/svg",F="http://www.w3.org/XML/1998/namespace";function z(t,e){"useFastTextMeasure"in(e=e||{})||(e.useFastTextMeasure=!1);var n={},i=R()(null),r="abcdefghijklmnopqrstuvwxyz",o={},s={1:.4951923076923077,.875:.43509615384615385,.833:.41346153846153844,.75:.3701923076923077,.5:.24459134615384615};return function(a,u){u<1&&(u=Math.round(1e3*u)/1e3);var h=a+u,c=n[h];if(c)return c;var d={};n[h]=d;var f=window.document.createElementNS(T,"text");return f.setAttributeNS(null,"font-size",u),f.setAttributeNS(F,"xml:space","preserve"),t.appendChild(f),d.words=a.split(/\s/).map(function(t){return{text:t,width:function(t){return e.useFastTextMeasure?function(t){var e=o[u];if(!e){f.textContent=r;var n=A(f);0==(e=n/r.length)&&(e=s[u]),o[u]=e}return e*t.length}(t):function(t){var e=t+u,n=i[e];if(void 0===n){if(f.textContent=t,0===(n=A(f))&&t.length>0){var r=s[u];if(void 0===r)throw new Error("Font size is not overriden for safari "+u);n=r*t.length}i[e]=n}return n}(t)}(t)}}),d.spaceWidth=(l="space"+u,p=o[l],p||(f.textContent=" ",p=A(f),o[l]=p),p),d.totalWidth=function(t,e){var n=0;return t.forEach(function(t){n+=t.width}),n+=(t.length-1)*e}(d.words,d.spaceWidth),t.removeChild(f),d;var l,p}}function A(t){return t.getBBox().width}var $=function(){function t(e,n){m()(this,t),this.x=e,this.y=n}return x()(t,[{key:"normalize",value:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);0===t&&(t=1e-4),this.x/=t,this.y/=t}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"add",value:function(t){this.x+=t.x,this.y+=t.y}},{key:"sub",value:function(t){this.x-=t.x,this.y-=t.y}},{key:"div",value:function(t){this.x/=t,this.y/=t}},{key:"mult",value:function(t){this.x*=t,this.y*=t}},{key:"limit",value:function(t){var e=this.mag();e>t&&(this.x*=t/e,this.y*=t/e)}},{key:"distanceTo",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}}],[{key:"sub",value:function(e,n){return new t(e.x-n.x,e.y-n.y)}},{key:"dist",value:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}}]),t}(),W=n("Tz9f")(45),G=function(){function t(e){m()(this,t),this.graph=e,this.boids=new P.a,this.neighbors=[]}return x()(t,[{key:"run",value:function(){var t=this,e=this.boids;e.forEach(function(n,i){var r=[];t.graph.forEachLinkedNode(i,function(t){var n=e.get(t.id);n&&r.push(n)}),n.run(r)})}},{key:"addBoid",value:function(t,e){this.boids.set(t,e),this.neighbors.push(e)}},{key:"setDesiredBoidPosition",value:function(t,e){var n=this.boids.get(t);n&&n.setDesiredPosition(e.x,e.y)}}]),t}(),B=function(){function t(e,n){m()(this,t),this.acceleration=new $(0,0);var i=2*W.nextDouble()*Math.PI;this.velocity=new $(Math.cos(i),Math.sin(i)),this.position=new $(e,n),this.desiredPosition=new $(0,0),this.r=400,this.maxspeed=3,this.maxforce=.08}return x()(t,[{key:"run",value:function(t){this.flock(t),this.update()}},{key:"applyForce",value:function(t,e){t.div(e),this.acceleration.add(t)}},{key:"setDesiredPosition",value:function(t,e){this.desiredPosition.x=t,this.desiredPosition.y=e}},{key:"flock",value:function(t){var e=this.separate(t),n=this.align(t),i=this.cohesion(t),r=t.length||1;this.applyForce(e,r),this.applyForce(n,r),this.applyForce(i,r);var o=$.sub(this.desiredPosition,this.position);o.limit(.091),this.applyForce(o,r)}},{key:"update",value:function(){this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.acceleration.mult(0)}},{key:"seek",value:function(t){var e=$.sub(t,this.position);e.normalize(),e.mult(this.maxspeed);var n=$.sub(e,this.velocity);return n.limit(1*this.maxforce),n}},{key:"separate",value:function(t){var e=this,n=new $(0,0,0),i=0;return t.forEach(function(t){var r=e.position.distanceTo(t.position);if(r>0&&r<40){var o=$.sub(e.position,t.position);o.normalize(),o.div(r),n.add(o),i++}}),i>0&&n.div(i),n.mag()>0&&(n.normalize(),n.mult(this.maxspeed),n.sub(this.velocity),n.limit(this.maxforce)),n}},{key:"align",value:function(t){var e=this,n=new $(0,0),i=0;if(t.forEach(function(t){var r=$.dist(e.position,t.position);r>0&&r<300&&(n.add(t.velocity),i++)}),i>0){n.div(i),n.normalize(),n.mult(this.maxspeed);var r=$.sub(n,this.velocity);return r.limit(this.maxforce),r}return new $(0,0)}},{key:"cohesion",value:function(t){var e=this,n=new $(0,0),i=0;return t.forEach(function(t){var r=$.dist(e.position,t.position);r>0&&r<300&&(n.add(t.position),i++)}),i>0?(n.div(i),this.seek(n)):new $(0,0)}}]),t}(),H=n("Tz9f");var V=n("AMV0"),O=n.n(V),U=n("lHA8"),X=n.n(U),Q=n("c/Tr"),j=n.n(Q),J=n("bsNR"),Y=n.n(J),Z=n("TbF0"),K=n("T/ob"),tt=n.n(K);function et(t,e,n){n.addLink(t,e)}var nt=n("T/ob");var it=function t(e,n){m()(this,t),this.from=e,this.to=n};function rt(t,e){var n=[],i=(e=e||{}).canMove||ot,r=e.pullX||!1,o=e.pullY||!1;if(!(t.size<2)){if(2!==t.size){t.forEach(function(t){var e=[t.cx,t.cy];e.id=t.id,n.push(e)});var s=function(t){var e=Z.a.from(t).triangles,n=tt()();t.forEach(function(t){n.addNode(t.id,t)});for(var i=e.length;i;){var r=t[e[--i]],o=t[e[--i]],s=t[e[--i]];et(r.id,o.id,n),et(o.id,s.id,n),et(s.id,r.id,n)}return n}(n);s.forEachLink(function(t){var e=h(t.fromId),n=h(t.toId),i=function(t,e){if(f(t,e)){var n=function(t,e){var n=t.cx-e.cx,i=t.cy-e.cy;return Math.sqrt(n*n+i*i)}(t,e),i=d(t,e);return-(i-1)*n}return function(t,e){if(f(t,e))return 0;var n=0,i=0;t.right<e.left?n=e.right-t.left:e.right<t.left&&(n=t.left-e.right);t.top<e.bottom?i=e.bottom-t.top:e.top<t.bottom&&(i=t.bottom-e.top);return Math.sqrt(n*n+i*i)}(t,e)}(e,n);t.data=i});var a=Y()(s,function(t){return t.data}).map(function(t){return new it(h(t.fromId),h(t.toId))});return void(a.length>0&&function(t){var e=t.getGraph(),n=new X.a;!function t(i){if(n.has(i))return;n.add(i);var r=h(i);e.forEachLinkedNode(i,function(e){if(!n.has(e.id)){var i=h(e.id);c(r,i),t(e.id)}})}(t.getRootId())}(function(t){var e=nt();t.forEach(function(t){e.addLink(t.from.id,t.to.id)});var n=t[0].from.id;return{getGraph:function(){return e},getRootId:function(){return n},get:function(t){return e.gentNode(t)}}}(a)))}var u=j()(t).map(function(t){return t[1]});c(u[0],u[1])}function h(e){return t.get(e)}function c(t,e){if(f(t,e)){var n=d(t,e),r=e.cx-t.cx,o=e.cy-t.cy;O()(n)||(n=1,r=.001,o=-.001),i(e.id)?(e.cx=t.cx+n*r,e.cy=t.cy+n*o):(t.cx=e.cx-n*r,t.cy=e.cy-n*o)}}function d(t,e){var n=Math.abs(t.cx-e.cx),i=Math.abs(t.cy-e.cy),r=(t.width+e.width)/2,o=(t.height+e.height)/2;return Math.min(r/n,o/i)}function f(t,e){return!!r||(t.left>e.right||e.left>t.right?r:!(t.top>e.bottom||e.top>t.bottom)||o)}}function ot(){return!0}var st=n("woOf"),at=n.n(st),ut=function(){function t(e){if(m()(this,t),at()(this,e),!ht(this.left))throw new Error("Left is wrong");if(!ht(this.top))throw new Error("top is wrong");if(!ht(this.width))throw new Error("width is wrong");if(!ht(this.height))throw new Error("height is wrong")}return x()(t,[{key:"inflate",value:function(t){this.left+=t*this.width/2,this.top+=t*this.height/2,this.width*=t,this.height*=t}},{key:"right",get:function(){return this.left+this.width}},{key:"bottom",get:function(){return this.top+this.height}},{key:"cx",get:function(){return this.left+this.width/2},set:function(t){this.left=t-this.width/2}},{key:"cy",get:function(){return this.top+this.height/2},set:function(t){this.top=t-this.height/2}}]),t}();function ht(t){return!!O()(t)}var ct=n("puH/"),dt=n("a5rm"),ft=1,lt=2,pt=3,vt=4;function gt(t,e){var n=t.maxDepth,i=dt(t,{springLength:20,springCoeff:.002,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:14,nodeMass:function(e){var i=t.getLinks(e),r=i?i.length:1,o=t.getNode(e);r*=n-o.data.depth+1;var s=null===e.match(/[a-zA-Z]+/),a=s?4:1;return e.length*a*r}}),r=function(t){var e=new P.a,n=H(42),i=new G(t);return{addNode:r,getNodePosition:function(t){var n=e.get(t);return n||(n=r(t)),n.position},setDesiredNodePosition:function(t,e){i.setDesiredBoidPosition(t,e)},step:function(){i.run()}};function r(t){var r={x:1e3*(n.nextDouble()-.5),y:1e3*(n.nextDouble()-.5)},o=new B(r.x,r.y);return i.addBoid(t,o),e.set(t,o),o}}(t),o=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=0,r=0;return{step:function(){r+=1},getNodePosition:function(o){i=function(t){return t*(2-t)}(r/n);var s=t.getNodePosition(o),a=e.getNodePosition(o);return{x:s.x*(1-i)+a.x*i,y:s.y*(1-i)+a.y*i}},done:function(){return r>n}}}(r,i),s=!1,a=0,u=0,h=2e3,c=2e3,d=ft,f=new P.a,l=ct({step:function(){if(!s||a<h){d=ft;var n=window.performance.now();r.step();do{i.step(),a+=1}while(window.performance.now()-n<10);(u+=window.performance.now()-n)>c&&(a=h);var f=Math.min(1,Math.max(u/c,a/h));return t.forEachNode(function(t){var e=i.getNodePosition(t.id);r.setDesiredNodePosition(t.id,e)}),e.setLayoutCompletion(Math.round(100*f)),a>=h&&(d=pt),!0}if(d===pt)return rt(v=p()),rt(v),rt(v),v.forEach(function(t,e){i.setNodePosition(e,t.left-t.dx,t.top-t.dy)}),d=lt,!0;if(d===lt)return o.step(),o.done()&&(d=vt,l.fire("ready",l)),!0;var v;return!1},pinNode:function(t){i.pinNode(t,!0)},getNodePosition:function(t){if(d===ft||d===pt)return r.getNodePosition(t);if(d===vt)return i.getNodePosition(t);if(d===lt)return o.getNodePosition(t)},addNode:function(t,e){r.addNode(t,e),f.set(t,e)},setGraphReady:function(){a=0,u=0,s=!0},getGraphReady:function(){return s}});return l;function p(){var t=new P.a;return f.forEach(function(e,n){var r=i.getNodePosition(n),o=e.width,s=e.height,a=new ut({id:n,left:r.x+e.x,top:r.y+e.y,dx:e.x,dy:e.y,width:o,height:s});t.set(n,a)}),t}}var yt=n("1RWG"),mt=n("Tz9f")(42);var wt=n("1RWG");function xt(t){var e=document.querySelector("#scene"),n=e.querySelector("#nodes"),i=e.querySelector("#edges"),r={isVisible:!1};S()(e).showRectangle({left:-500,right:500,top:-500,bottom:500});var o=new P.a,s=void 0,a=void 0,u=0,h=void 0,c=z(e);return p.on("graph-ready",g),{render:function(e){x(),(s=gt(a=e,t)).on("ready",w),o=new P.a,a.forEachNode(b),a.on("changed",m),cancelAnimationFrame(u),u=requestAnimationFrame(y)},dispose:function(){x(),p.off("graph-ready",g)}};function d(t){var e,n,i,s,a,u,c=t.target&&t.target.id,d=h.getLinkInfo(c);d?(e=d,n=t.clientX,i=t.clientY,s=e.link,a=s.fromId,u=s.toId,p.fire("show-tooltip",{isVisible:!0,from:a,to:u,x:n,y:i}),l(),o.get(a).classList.add("hovered"),o.get(u).classList.add("hovered"),e.ui.classList.add("hovered")):(p.fire("show-tooltip",r),l())}function f(t){var e=t.target&&t.target.id,n=h.getLinkInfo(e);n&&p.fire("show-details",n.link)}function l(){e.querySelectorAll(".hovered").forEach(v)}function v(t){t.classList.remove("hovered")}function g(e){e===a&&(s.setGraphReady(),t.startLayout())}function y(){s.step()&&(u=requestAnimationFrame(y)),o.forEach(function(t,e){var n=_(e);t.attr("transform","translate("+n.x+", "+n.y+")")})}function m(t){t.forEach(function(t){"add"===t.changeType&&t.node&&b(t.node)})}function w(){t.done(),h=function(t,e,n){var i=new P.a,r=new P.a,o=[],s=20,a=t.maxDepth;t.forEachLink(function(t){o.push(t)}),o.sort(function(t,e){return h(t)-h(e)});var u=requestAnimationFrame(function t(){for(;r.size<s&&o.length>0;){var e=o.pop(),n=Math.round(Math.abs(30*mt.gaussian()))+1;r.set(e.id,c(e,n))}r.forEach(function(t,e){t.step(),t.isDone&&r.delete(e)}),(o.length>0||r.size>0)&&(u=requestAnimationFrame(t))});return{getLinkInfo:function(t){return i.get(t)},dispose:function(){u&&(cancelAnimationFrame(u),u=null)}};function h(e){var n=t.getNode(e.fromId).data,i=t.getNode(e.toId).data,r=(n.depth+i.depth)/2;return(a-r)/a}function c(t,r){var o=0,s=e.getNodePosition(t.fromId),a=e.getNodePosition(t.toId),u=h(t),c=8*u+2,d=Math.round(125*(1-u)+75),f={step:function(){var e=function(t){return t*(2-t)}(o/r),u=s.x*(1-e)+a.x*e,h=s.y*(1-e)+a.y*e,l=i.get(t.id),p="M"+s.x+","+s.y+" L"+u+","+h;if(l)l.ui.attr("d",p);else{var v=yt("path",{class:"link-ui",id:t.id,"stroke-width":c,fill:"black",stroke:"rgb("+d+", "+d+", "+d+")",d:p});n.appendChild(v),i.set(t.id,{ui:v,link:t})}(o+=1)>r&&(f.isDone=!0)},isDone:!1};return f}}(a,s,i),document.addEventListener("mousemove",d),e.addEventListener("click",f,!0)}function x(){k(n),k(i),document.removeEventListener("mousemove",d),e.removeEventListener("click",f,!0),s&&s.off("ready",w),a&&a.off("changed",m),h&&h.dispose()}function k(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function b(t){var e=(a.maxDepth-t.data.depth)/a.maxDepth,i=_(t.id);0===t.data.depth&&s.pinNode(t);var r=function(t,e){var n=24*e+12,i=c(t,n),r=i.totalWidth+6*i.spaceWidth,o=1.6*n;return{fontSize:n,width:r,height:o,x:-r/2,y:-o/2,rx:15*e+2,ry:15*e+2,px:-r/2+3*i.spaceWidth,py:-o/2+1.1*n,strokeWidth:4*e+1}}(t.id,e);s.addNode(t.id,r);var u={x:r.x,y:r.y,width:r.width,height:r.height,rx:r.rx,ry:r.ry,fill:"white","stroke-width":r.strokeWidth,stroke:"#58585A"},h={"font-size":r.fontSize,x:r.px,y:r.py},d=wt("rect",u),f=wt("text",h);f.text(t.id);var l=wt("g",{transform:"translate("+i.x+", "+i.y+")"});l.appendChild(d),l.appendChild(f),n.appendChild(l),o.set(t.id,l)}function _(t){return s.getNodePosition(t)}}var kt={mounted:function(){var t=this;this.closeHandler=function(e){27===e.keyCode&&(e.preventDefault(),t.close())},document.addEventListener("keyup",this.closeHandler)},beforeDestroy:function(){document.removeEventListener("keyup",this.closeHandler)},methods:{close:function(){this.$emit("close")}}},bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("div",{staticClass:"background absolute",on:{click:function(e){return e.preventDefault(),t.close(e)}}}),t._v(" "),n("div",{staticClass:"content"},[n("h3",[t._v("Autocomplete vs Graph "),n("a",{staticClass:"close bold highlight",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("close")])]),t._v(" "),t._m(0),t._v(" "),n("p",[t._v("What if we repeat the same query for every suggestion? We will get a bigger picture:")]),t._v(" "),n("img",{attrs:{src:"https://i.imgur.com/aqzfpBJ.png",alt:"Bigger picture with all searches",width:"300px"}}),t._v(" "),n("p",[t._v("Now let's repeat this process one more time for every found suggestion. But instead of\n      drawing a picture, let's draw a line between each suggestion:")]),t._v(" "),n("img",{attrs:{src:"https://i.imgur.com/OBbEJP7.png",alt:"suggestions graph",width:"300px"}}),t._v(" "),n("p",[t._v("And this is exactly what this website is doing for You.")]),t._v(" "),n("p",[t._v("I found this technique useful to find alternatives, or to perform a market research.\n      Obviously, for this technique to work, Google needs to know enough about your query.\n    ")]),t._v(" "),n("p",[t._v("I hope you like it! Please let me know.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("a",{staticClass:"large-close bold highlight",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("\n      close\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n      Have you ever noticed how Google auto-completes your queries? Like so:\n      "),e("img",{attrs:{src:"https://i.imgur.com/Dz0crfG.gif",alt:"google auto complete demo",width:"300px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{staticClass:"highlight",attrs:{href:"https://github.com/anvaka/vs"}},[this._v("Read source code")]),this._v(" of this project on GitHub\n      ")]),e("li",[this._v("\n      Stay tuned for updates on "),e("a",{staticClass:"highlight",attrs:{href:"https://twitter.com/anvaka"}},[this._v("Twitter.")])]),e("li",[e("a",{staticClass:"highlight",attrs:{href:"https://www.patreon.com/anvaka"}},[this._v("Support me on Patreon")]),this._v(" .\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("With passion,"),e("br"),this._v(" Anvaka")])}]};var _t={props:["placeholder","value","pattern"],watch:{value:function(t){this.ensureSuffixPos()}},computed:{patternReminder:function(){return this.pattern.split("[query]")[1]},patternPrefix:function(){return this.pattern.split("[query]")[0]}},methods:{focus:function(){this.$refs.input.focus()},ensureSuffixPos:function(){var t=this.$refs,e=t.suffix,n=t.measure,i=t.prefix;n.innerText=this.value;var r=this.$refs.measure.getBoundingClientRect();n.innerText=this.patternReminder;var o=n.getBoundingClientRect();n.innerText=this.patternPrefix;var s=n.getBoundingClientRect(),a=this.$el.getBoundingClientRect().width-o.width,u=Math.min(s.width+r.width+4,a);0===this.value.length?(e.style.visibility="hidden",i.style.visibility="hidden",this.$refs.input.style.paddingRight="0",this.$refs.input.style.paddingLeft="0"):(e.style.visibility="visible",i.style.visibility="visible",e.style.left=u+"px",i.style.right=s.width+"px",this.$refs.input.style.paddingRight=o.width+"px",this.$refs.input.style.paddingLeft=s.width+"px")}},mounted:function(){this.ensureSuffixPos()}},qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"query-input-container",on:{click:function(e){return e.preventDefault(),t.focus(e)}}},[n("input",{ref:"input",staticClass:"search-input",attrs:{type:"text",placeholder:t.placeholder,autofocus:""},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}}),t._v(" "),n("span",{ref:"prefix",staticClass:"prefix",attrs:{type:"text"}},[t._v(t._s(t.patternPrefix))]),t._v(" "),n("span",{ref:"measure",staticClass:"search-measure"}),t._v(" "),n("span",{ref:"suffix",staticClass:"suffix",attrs:{type:"text"}},[t._v(t._s(t.patternReminder))])])},staticRenderFns:[]};var Et={name:"App",data:function(){return{aboutVisible:!1,appState:C,tooltip:{text:"",x:"",y:""}}},components:{About:n("VU/8")(kt,bt,!1,function(t){n("tXtF")},null,null).exports,QueryInput:n("VU/8")(_t,qt,!1,function(t){n("T8Df")},null,null).exports},computed:{isLoading:function(){return C.progress.working}},methods:{forwardFocus:function(){this.$refs.queryInput.focus()},onSubmit:function(){C.query||(C.query="贝壳找房"),L(C.query),this.renderer.render(C.graph);var t=document.querySelector(":focus");t&&t.blur()},showTooltip:function(t){var e=this.$refs.tooltip;t.isVisible?(e.classList.add("visible"),e.innerText=N(t.from,t.to),e.style.left=t.x+16+"px",e.style.top=t.y-16+"px"):e.classList.remove("visible")},showDetails:function(t){var e=N(t.fromId,t.toId);window.open("https://www.baidu.com/s?ie=utf-8&wd="+encodeURIComponent(e),"_blank")}},mounted:function(){this.renderer=xt(C.progress),p.on("show-tooltip",this.showTooltip,this),p.on("show-details",this.showDetails,this),C.graph&&this.renderer.render(C.graph)},beforeDestroy:function(){p.off("show-tooltip",this.showTooltip,this),p.off("show-details",this.showDetails,this)}},Ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("form",{staticClass:"search-box",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("query-input",{ref:"queryInput",staticClass:"query-input",attrs:{placeholder:"输入 贝壳找房 试下?",pattern:t.appState.pattern},model:{value:t.appState.query,callback:function(e){t.$set(t.appState,"query",e)},expression:"appState.query"}}),t._v(" "),t.appState.query?n("a",{staticClass:"search-submit",attrs:{type:"submit",href:"#"},on:{click:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._v("Go")]):t._e()],1),t._v(" "),t.isLoading?t._e():n("div",{staticClass:"help"},[t._m(0)]),t._v(" "),t.isLoading?n("div",{staticClass:"help"},[t._v(t._s(t.appState.progress.message))]):t._e(),t._v(" "),n("div",{staticClass:"about-line"}),t._v(" "),t.appState.hasGraph?t._e():n("div",{staticClass:"welcome"},[n("p",[t._v("百度关系图:根据百度提示自动生成")]),t._v(" "),n("p"),t._v(" "),t._m(1)]),t._v(" "),n("div",{ref:"tooltip",staticClass:"tooltip"},[t._v(t._s(t.tooltip.text))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n      基于\n      "),e("a",{attrs:{href:"https://github.com/YaoZeyuan/vs",target:"_blank"}},[this._v("https://anvaka.github.io/vs")]),this._v("\n      改造完成\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n      原项目地址:\n      "),e("a",{staticClass:"highlight",attrs:{href:"https://anvaka.github.io/vs/?query=",target:"_blank"}},[this._v("https://anvaka.github.io/vs")])])}]};var Lt=n("VU/8")(Et,Ct,!1,function(t){n("oQEV")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:Lt},template:"<App/>"})},T8Df:function(t,e){},oQEV:function(t,e){},tXtF:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c562129f8c0de4f6e309.js.map